<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button icon="ios-arrow-back"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{'Filters' | translate}}
      <span
        class="ion-float-end"
        style="font-size: 14px"
        (click)="clearFilter()"
      >
        Clear Filters
        <!-- <ion-icon class="zmdi zmdi-time-restore-setting ion-text-end"></ion-icon> -->
      </span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg_color">
  <!-- <ion-grid > -->
  <ion-row>
    <ion-col size="4">
      <div
        *ngFor="let filter of filterOptions"
        style="margin-top: 30px; font-size: 15px"
        (click)="changeFilter(filter)"
      >
        <ion-label [ngClass]="{ 'lableColor': filter === currentFilterName}"
          >{{filter}}</ion-label
        >

        <!-- <span class="ion-float-end countColor"
          >{{listOptions.filter(({isChecked})=>isChecked).length}}</span
        > -->
        <span *ngIf="filter !='Amount'" class="ion-float-end countColor"
          >{{getCount(filter)||''}}</span
        >
      </div>
    </ion-col>
    <ion-col size="8" style="min-height: 700px !important; background: white">
      <ion-list lines="none">
        <ion-card *ngIf="currentFilterName !='Amount'">
          <ion-searchbar
            placeholder="Search Filters"
            (ionInput)="onSearch($event)"
          ></ion-searchbar>
          <h2>{{currentFilterName}}</h2>
          <!-- <ion-list *ngIf="isListLoaded">
            <div *ngFor="let option of filterList">
              <ion-item *ngIf="option.isChecked">
                <ion-checkbox
                  slot="start"
                  [checked]="option.isChecked"
                  (click)="checkAndUncheck(option)"
                ></ion-checkbox>
                <ion-label>{{option.title}}</ion-label>
              </ion-item>
            </div>
            <div *ngFor="let option of filterList">
              <ion-item *ngIf="!option.isChecked">
                <ion-checkbox
                  slot="start"
                  (click)="checkAndUncheck(option)"
                ></ion-checkbox>
                <ion-label>{{option.title}}</ion-label>
              </ion-item>
            </div>
          </ion-list> -->
          <ion-list>
            <div *ngFor="let option of listOptions">
              <ion-item>
                <ion-checkbox
                  slot="start"
                  [checked]="option.isChecked"
                  (click)="filterSelection(option)"
                ></ion-checkbox>
                <ion-label>{{option.title}}</ion-label>
              </ion-item>
            </div>
          </ion-list>
        </ion-card>
        <ion-card class="price_range" *ngIf="currentFilterName =='Amount'">
          <ion-row>
            <h2>{{'price_range' | translate}}</h2>
            <span class="ion-float-end">
              <ion-badge
                style="
                  background: #0066cb;
                  min-width: 59px !important;
                  margin-right: 10px;
                  margin-left: 5px;
                "
                >₹{{rangeValue.lower}}</ion-badge
              >
              <ion-badge style="background: #0066cb; min-width: 59px !important"
                >₹{{rangeValue.upper}}</ion-badge
              >
            </span>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-range
                  class="range-pressed"
                  dualKnobs="true"
                  [min]="minRangeValue"
                  [max]="maxRangeValue"
                  [(ngModel)]="rangeValue"
                  pin="true"
                  mode="md"
                >
                  <ion-label slot="start" class="ion-text-start"
                    >{{'min' | translate}}</ion-label
                  >
                  <ion-label slot="end" class="ion-text-end ion-padding-end"
                    >{{'max' | translate}}</ion-label
                  >
                </ion-range>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-card>
      </ion-list>
    </ion-col>
  </ion-row>
  <!-- </ion-grid> -->
</ion-content>

<ion-footer no-border>
  <ion-button size="large" class="btn" (click)="submitFilter()"
    >{{'apply_filters' | translate}}</ion-button
  >
  <!-- (click)="applyFilters()" -->
</ion-footer>
